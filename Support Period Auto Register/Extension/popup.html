<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Auto Support Sign Up</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&display=swap');

    * { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #0d0d0d;
      --card: #161616;
      --line: #262626;
      --accent: #4f6ef7;
      --accent-dim: rgba(79,110,247,0.15);
      --green: #34d17a;
      --yellow: #f5c542;
      --red: #f06878;
      --text: #f0f0f0;
      --muted: #555;
    }

    body {
      width: 300px;
      background: var(--bg);
      color: var(--text);
      font-family: 'IBM Plex Mono', monospace;
      font-size: 11px;
    }

    /* â”€â”€ Header â”€â”€ */
    .header {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 14px;
      border-bottom: 1px solid var(--line);
    }

    .logo {
      width: 26px;
      height: 26px;
      background: var(--accent);
      border-radius: 6px;
      display: grid;
      place-items: center;
      font-size: 13px;
      flex-shrink: 0;
    }

    .header h1 {
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.01em;
      line-height: 1;
    }

    .header p {
      font-size: 9px;
      color: var(--muted);
      margin-top: 2px;
    }

    /* â”€â”€ Body â”€â”€ */
    .body {
      padding: 14px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    /* â”€â”€ Field â”€â”€ */
    .field label {
      display: block;
      font-size: 9px;
      color: var(--muted);
      letter-spacing: 0.06em;
      text-transform: uppercase;
      margin-bottom: 5px;
    }

    input[type="text"] {
      width: 100%;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 5px;
      padding: 7px 10px;
      color: var(--text);
      font-family: inherit;
      font-size: 11px;
      outline: none;
      transition: border-color 0.15s;
    }

    input[type="text"]::placeholder { color: var(--muted); }

    input[type="text"]:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 2px var(--accent-dim);
    }

    .hint {
      font-size: 9px;
      color: var(--muted);
      margin-top: 4px;
    }

    /* â”€â”€ Day toggles â”€â”€ */
    .days {
      display: flex;
      gap: 6px;
    }

    .day {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 7px;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 5px;
      padding: 7px 10px;
      cursor: pointer;
      transition: border-color 0.15s, background 0.15s;
      user-select: none;
    }

    .day:hover { background: #1c1c1c; }

    .day.on {
      border-color: var(--accent);
      background: var(--accent-dim);
    }

    .pip {
      width: 5px;
      height: 5px;
      border-radius: 50%;
      background: var(--line);
      flex-shrink: 0;
      transition: background 0.15s;
    }

    .day.on .pip { background: var(--accent); }

    /* â”€â”€ Run button â”€â”€ */
    .run {
      width: 100%;
      padding: 9px;
      background: var(--accent);
      border: none;
      border-radius: 5px;
      color: #fff;
      font-family: inherit;
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
      letter-spacing: 0.03em;
      transition: opacity 0.15s, transform 0.1s;
    }

    .run:hover:not(:disabled) { opacity: 0.88; transform: translateY(-1px); }
    .run:active:not(:disabled) { transform: translateY(0); }
    .run:disabled { opacity: 0.3; cursor: not-allowed; }

    /* â”€â”€ Log â”€â”€ */
    .log {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 5px;
      padding: 8px 10px;
      min-height: 72px;
      max-height: 110px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .log::-webkit-scrollbar { width: 3px; }
    .log::-webkit-scrollbar-thumb { background: var(--line); border-radius: 2px; }

    .entry { display: flex; gap: 7px; line-height: 1.5; }
    .tag { flex-shrink: 0; font-weight: 600; }
    .entry.info  .tag { color: var(--accent); }
    .entry.success .tag { color: var(--green); }
    .entry.warn  .tag { color: var(--yellow); }
    .entry.error .tag { color: var(--red); }
    .msg { color: #666; word-break: break-word; }

    /* â”€â”€ Status bar â”€â”€ */
    .status {
      display: flex;
      align-items: center;
      gap: 7px;
      padding: 7px 14px;
      border-top: 1px solid var(--line);
      color: var(--muted);
    }

    .dot {
      width: 5px;
      height: 5px;
      border-radius: 50%;
      background: var(--muted);
      flex-shrink: 0;
    }

    .dot.ready  { background: var(--green); }
    .dot.running { background: var(--yellow); animation: blink 1.2s infinite; }
    .dot.error  { background: var(--red); }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.25; }
    }

    .spin { display: inline-block; animation: spin 1s linear infinite; }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* â”€â”€ Page guard â”€â”€ */
    .guard {
      padding: 28px 16px;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .guard .icon { font-size: 28px; }

    .guard p {
      color: var(--muted);
      line-height: 1.6;
    }

    .guard a {
      color: var(--accent);
      text-decoration: none;
      font-weight: 600;
    }

    .hidden { display: none !important; }
  </style>
</head>
<body>

  <div class="header">
    <div class="logo">âš¡</div>
    <div>
      <h1>Support Auto Sign Up</h1>
      <p>5starstudents.com</p>
      <p><small><em>github.com/pennbrenn</em></small></p>
    </div>
  </div>

  <div id="pageGuard" class="guard hidden">
    <div class="icon">ðŸ”’</div>
    <p>Sign in at 5starstudents.com first,<br>and reopen this.</p>
    <a href="https://5starstudents.com/agourahighschool/login" target="_blank">Open site â†’</a>
  </div>

  <div id="mainUI" class="body">

    <div class="field">
      <label>Teacher (last name)</label>
      <input type="text" id="teacherName" placeholder="e.g. Redmond" />
      <div class="hint">Partial match Â· case insensitive</div>
    </div>

    <div class="field">
      <label>Days</label>
      <div class="days">
        <div class="day on" id="toggleTue" data-day="tuesday">
          <div class="pip"></div>
          <span>Tuesday</span>
        </div>
        <div class="day on" id="toggleWed" data-day="wednesday">
          <div class="pip"></div>
          <span>Wednesday</span>
        </div>
      </div>
    </div>

    <button class="run" id="runBtn">â–¶  Run</button>

    <div class="field">
      <label>Log</label>
      <div class="log" id="logBox">
        <div class="entry info"><span class="tag">[INFO]</span><span class="msg">Ready. Configure and click Run.</span></div>
      </div>
    </div>

  </div>

  <div class="status">
    <div class="dot ready" id="statusDot"></div>
    <span id="statusText">Ready</span>
  </div>

  <script src="popup.js"></script>
</body>
</html>
